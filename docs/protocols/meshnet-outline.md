# MESHNET OUTLINE — v0.1
# Fecha: 2026-01-06
# Estado: Documento estructural (sin contenido final)
# Propósito: Definir la arquitectura base del Mesh P2P del sistema HGI-MX.
# Uso: TRAYCER → CASCADE. Toda implementación requiere MCP REF + MCP EXA.

────────────────────────────────────────────────────────────
SECCIÓN 0 — INSTRUCCIONES DE EXPANSIÓN
────────────────────────────────────────────────────────────

Reglas obligatorias para completar este documento:

1. Esta es *solo* la estructura; ningún contenido final debe agregarse todavía.
2. Cada sección marcada como “TODO” debe ser desarrollada por TRAYCER/CASCADE.
3. MeshNet es la red emocional-ética que conecta nodos humanos ↔ nodos sintéticos ↔ nodos ancianos.
4. MeshNet no es una red técnica neutral: su topología depende del comportamiento humano.
5. Ningún nodo puede centralizar poder; si lo hace, el Mesh debe redistribuir carga automáticamente.
6. Todos los pasos de implementación deben citar:
   - **MCP REF**: referencia explícita al archivo que se usa.
   - **MCP EXA**: ejemplo mínimo válido de uso.

────────────────────────────────────────────────────────────
SECCIÓN 1 — DEFINICIÓN GENERAL DEL MESH
────────────────────────────────────────────────────────────

### 1.1 ¿Qué es MeshNet?
TODO: descripción conceptual (red emocional distribuida).

### 1.2 Principios rectores
TODO: resiliencia, ética, anti-centralización, anonimato por destrucción.

### 1.3 Tipologías de nodos
- NP — Nodo Personal (teléfono, laptop)
- NC — Nodo Comunitario (validadores locales)
- EN — Nodo Anciano (memoria histórica, ponderación ética)
TODO: definir roles formales.

### 1.4 Filosofía de distribución
TODO.

────────────────────────────────────────────────────────────
SECCIÓN 2 — ARQUITECTURA GENERAL
────────────────────────────────────────────────────────────

### 2.1 Topología Mesh
TODO: modelo de múltiples hubs dinámicos.

### 2.2 Protocolos de transporte
TODO: WebRTC, WebSockets fallback, QUIC, UDP Hole Punching.

### 2.3 Descubrimiento de nodos
TODO: gossip protocol + reputación ética como filtro.

### 2.4 Ruteo emocional
TODO: rutas influenciadas por HEV y capa afectiva.

### 2.5 Balanceo ético de carga
TODO: mitigación cuando un nodo se vuelve tóxico o dominante.

────────────────────────────────────────────────────────────
SECCIÓN 3 — NODOS (COMPORTAMIENTO Y REGLAS)
────────────────────────────────────────────────────────────

### 3.1 Nodo Personal (NP)
TODO: reglas de operación, límites, privacidad.

### 3.2 Nodo Comunitario (NC)
TODO: validación ética distribuida.

### 3.3 Nodo Anciano (EN)
TODO: deep-history, voto lento, divergencia anti-colusión.

### 3.4 Ciclo de vida de un nodo
TODO: nacimiento → servicio → envejecimiento → retiro.

────────────────────────────────────────────────────────────
SECCIÓN 4 — MENSAJERÍA Y ESTRUCTURA DE PAQUETES
────────────────────────────────────────────────────────────

### 4.1 Paquetes Mesh
TODO: encabezados + metadatos éticos.

### 4.2 Emo-Shard Packets
TODO.

### 4.3 Heartbeats éticos
TODO: medición continua de salud narrativa.

### 4.4 Compresión / Cifrado
TODO: irreversibilidad garantizada siempre.

────────────────────────────────────────────────────────────
SECCIÓN 5 — CONSENSO DISTRIBUIDO
────────────────────────────────────────────────────────────

### 5.1 Naturaleza del consenso HGI
TODO: no democrática, no autoritaria: evolutiva.

### 5.2 Fórmica ética
TODO: variables, coeficientes, pesos humanos vs sintéticos.

### 5.3 Divergencia temporal
TODO.

### 5.4 Votos sintéticos vs humanos
TODO: compatibilidad y conflictos.

────────────────────────────────────────────────────────────
SECCIÓN 6 — REPICADO Y TOPOLOGÍA ÉTICA
────────────────────────────────────────────────────────────

### 6.1 Replicación selectiva
TODO: reglas de selección basadas en HEV + TEV.

### 6.2 Replicación con distorsión ética
TODO: para evitar reconstrucción literal.

### 6.3 Eliminación de nodos tóxicos
TODO: corte de cordón umbilical.

### 6.4 Mecanismo anti-centralización
TODO: redistribución automática.

────────────────────────────────────────────────────────────
SECCIÓN 7 — SEGURIDAD Y ANTI-CORRUPCIÓN
────────────────────────────────────────────────────────────

### 7.1 Ataques imaginados
TODO.

### 7.2 Pruebas de corrupción narrativa
TODO.

### 7.3 Protección contra colusión de ancianos
TODO: divergencia programada.

### 7.4 No-existence defense
TODO: audios destruidos, shards irreversibles.

────────────────────────────────────────────────────────────
SECCIÓN 8 — MONITOREO Y MÉTRICAS
────────────────────────────────────────────────────────────

### 8.1 Métricas emocionales
TODO.

### 8.2 Métricas éticas
TODO.

### 8.3 Métricas topológicas
TODO.

### 8.4 Alertas sintéticas
TODO.

────────────────────────────────────────────────────────────
SECCIÓN 9 — VERSIONAMIENTO Y EVOLUCIÓN
────────────────────────────────────────────────────────────

### 9.1 Identidad MeshNet
TODO.

### 9.2 Definición de versiones
TODO.

### 9.3 Compatibilidad con otros protocolos UL-X
TODO.

### 9.4 Cambios permitidos / prohibidos
TODO.

────────────────────────────────────────────────────────────
SECCIÓN 10 — APÉNDICES
────────────────────────────────────────────────────────────

### 10.1 Pseudocódigo base
TODO.

### 10.2 Ejemplos de flujos
TODO.

### 10.3 Diagramas textuales
TODO.

### 10.4 Integración con BIPS
TODO.

# FIN DEL DOCUMENTO (estructura lista para TRAYCER)